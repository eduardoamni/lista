import{todoList}from"../..";import{Todo}from"../../classes";const divTodoList=document.querySelector(".todo-list"),txtInput=document.querySelector(".new-todo"),btnCompletados=document.querySelector(".clear-completed"),filtros=document.querySelector(".filters"),filtrosActivo=document.querySelectorAll(".filtro");export const crearTodoHtml=t=>{const e=`\n    <li class="${t.completado?"completed":""}" data-id="${t.id}">\n        <div class="view">\n            <input class="toggle" type="checkbox" ${t.completado?"checked":""}>\n            <label> ${t.tarea} </label>\n            <button class="destroy"></button>\n        </div>\n        <input class="edit" value="Create a TodoMVC template">\n    </li>\n    `,o=document.createElement("div");return o.innerHTML=e,divTodoList.append(o.firstElementChild),o.firstElementChild};txtInput.addEventListener("keyup",(t=>{if(13===t.keyCode&&txtInput.value.length>0){const t=new Todo(txtInput.value);todoList.nuevoTodo(t),crearTodoHtml(t),txtInput.value=""}})),divTodoList.addEventListener("click",(t=>{const e=t.target.localName,o=t.target.parentElement.parentElement,d=o.getAttribute("data-id");e.includes("input")?(todoList.marcarCompletado(d),o.classList.toggle("completed")):e.includes("button")&&(todoList.eliminarTodo(d),o.remove())})),btnCompletados.addEventListener("click",(t=>{todoList.eliminarCompletados();for(let t=divTodoList.children.length-1;t>=0;t--){const e=divTodoList.children[t];e.classList.contains("completed")&&e.remove()}console.log(todoList)})),filtros.addEventListener("click",(t=>{const e=t.target.text;if(e){for(const t of filtrosActivo){t.classList.remove("selected");t.text==e&&t.classList.add("selected")}for(const t of divTodoList.children){t.classList.remove("hidden");const o=t.classList.contains("completed");switch(e){case"Pendientes":o&&t.classList.add("hidden");break;case"Completados":o||t.classList.add("hidden")}}}}));